load("//multitest_transport:adapter.bzl", "ng_module", "per_file_sass_binaries", "third_party_js")

package(default_applicable_licenses = ["//multitest_transport:license"])

licenses(["notice"])

per_file_sass_binaries(
    name = "styles",
    srcs = glob(["*.scss"]),
    deps = [
        "//multitest_transport/ui2:styles_lib",
        "//multitest_transport/ui2/app/shared:shared_styles",
    ],
)

ng_module(
    name = "hosts",
    srcs = [
        "assign_to_filter.ts",
        "assigned_me_offline_host_list.ts",
        "assigned_others_offline_host_list.ts",
        "base_offline_host_list.ts",
        "device_count_info_pipe.ts",
        "host_details.ts",
        "host_details_device_count_summaries.ts",
        "host_details_device_list.ts",
        "host_details_extra_infos.ts",
        "host_details_history.ts",
        "host_details_host_resource.ts",
        "host_details_page.ts",
        "host_details_summary.ts",
        "host_list.ts",
        "host_list_page.ts",
        "host_list_table.ts",
        "host_update_dialog.ts",
        "hosts_mark_as_verified_button.ts",
        "hosts_module.ts",
        "mark_host_as_fixed_button.ts",
        "offline_host_assignments_page.ts",
        "offline_host_filter.ts",
        "offline_host_list.ts",
        "offline_host_list_page.ts",
        "total_offline_devices_alert_icon_pipe.ts",
        "unassigned_offline_host_list.ts",
    ],
    assets = [
        ":styles",
        "assigned_me_offline_host_list.ng.html",
        "assigned_others_offline_host_list.ng.html",
        "assign_to_filter.ng.html",
        "host_details.ng.html",
        "host_details_device_count_summaries.ng.html",
        "host_details_device_list.ng.html",
        "host_details_extra_infos.ng.html",
        "host_details_history.ng.html",
        "host_details_host_resource.ng.html",
        "host_details_page.ng.html",
        "host_details_summary.ng.html",
        "host_update_dialog.ng.html",
        "host_list.ng.html",
        "host_list_page.ng.html",
        "host_list_table.ng.html",
        "hosts_mark_as_verified_button.ng.html",
        "mark_host_as_fixed_button.ng.html",
        "offline_host_list.ng.html",
        "offline_host_list_page.ng.html",
        "offline_host_assignments_page.ng.html",
        "unassigned_offline_host_list.ng.html",
    ],
    strict_templates = False,
    visibility = ["//multitest_transport"],
    deps = [
        third_party_js("angular_components:cdk_a11y"),
        third_party_js("angular2:core"),
        third_party_js("angular2:forms"),
        third_party_js("angular_components:material_legacy_autocomplete"),
        third_party_js("angular_components:material_legacy_dialog"),
        third_party_js("angular_components:material_radio"),
        third_party_js("angular_components:material_table"),
        third_party_js("angular_components:material_tabs"),
        third_party_js("angular_components:material_legacy_paginator"),
        third_party_js("angular_components:material_sort"),
        third_party_js("angular_components:material_legacy_table"),
        third_party_js("angular2:platform_browser"),
        third_party_js("angular2:router"),
        third_party_js("rxjs"),
        "//multitest_transport/ui2/app/devices",
        "//multitest_transport/ui2/app/notes",
        "//multitest_transport/ui2/app/services",
        "//multitest_transport/ui2/app/shared",
    ],
)

ng_module(
    name = "tests",
    testonly = True,
    srcs = [
        "assign_to_filter_test.ts",
        "assigned_me_offline_host_list_test.ts",
        "assigned_others_offline_host_list_test.ts",
        "device_count_info_pipe_test.ts",
        "host_details_device_count_summaries_test.ts",
        "host_details_device_list_test.ts",
        "host_details_extra_infos_test.ts",
        "host_details_history_test.ts",
        "host_details_host_resource_test.ts",
        "host_details_page_test.ts",
        "host_details_summary_test.ts",
        "host_details_test.ts",
        "host_list_page_test.ts",
        "host_list_table_test.ts",
        "host_list_test.ts",
        "host_update_dialog_test.ts",
        "hosts_mark_as_verified_button_test.ts",
        "mark_host_as_fixed_button_test.ts",
        "offline_host_assignments_page_test.ts",
        "offline_host_filter_test.ts",
        "offline_host_list_page_test.ts",
        "offline_host_list_test.ts",
        "total_offline_devices_alert_icon_pipe_test.ts",
        "unassigned_offline_host_list_test.ts",
    ],
    visibility = ["//multitest_transport"],
    deps = [
        ":hosts",
        third_party_js("angular2:common"),
        third_party_js("angular2:common_http"),
        third_party_js("angular2:common_http_testing"),
        third_party_js("angular2:core"),
        third_party_js("angular2:core_testing"),
        third_party_js("angular_components:material_legacy_dialog"),
        third_party_js("angular_components:material_legacy_radio"),
        third_party_js("angular_components:material_radio"),
        third_party_js("angular_components:material_sort"),
        third_party_js("angular2:platform_browser"),
        third_party_js("angular2:platform_browser_animations"),
        third_party_js("angular2:router"),
        third_party_js("angular2:router_testing"),
        third_party_js("rxjs"),
        third_party_js("typings/jasmine"),
        "//multitest_transport/ui2/app/services",
        "//multitest_transport/ui2/app/shared",
        "//multitest_transport/ui2/app/testing:angular_util",
        "//multitest_transport/ui2/app/testing:jasmine_util",
        "//multitest_transport/ui2/app/testing:test_util",
    ],
)
