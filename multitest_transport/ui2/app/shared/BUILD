load("//multitest_transport:adapter.bzl", "ng_module", "per_file_sass_binaries", "sass_library", "third_party_js")

package(default_applicable_licenses = ["//multitest_transport:license"])

# A package for common components
licenses(["notice"])

per_file_sass_binaries(
    name = "styles",
    srcs = glob(["*.scss"]),
    visibility = ["//visibility:private"],
    deps = [
        "//multitest_transport/ui2:constants",
        "//multitest_transport/ui2/app/shared:shared_styles",
    ],
)

sass_library(
    name = "shared_styles",
    srcs = [
        "shared.scss",
    ],
    strict_deps = False,
    visibility = ["//multitest_transport"],
)

ng_module(
    name = "shared",
    srcs = [
        "breadcrumb.ts",
        "can_deactivate.ts",
        "file_size_pipe.ts",
        "filterbar_util.ts",
        "forbidden_values_validator.ts",
        "form_error_info.ts",
        "from_now_pipe.ts",
        "host_device_search.ts",
        "index.ts",
        "infinite_scroll.ts",
        "linkify_pipe.ts",
        "list_form.ts",
        "local_file_store.ts",
        "map_list_field_pipe.ts",
        "multi_select.ts",
        "name_multi_value_pair_list_form.ts",
        "name_value_pair_list_form.ts",
        "overflow_list.ts",
        "paginator.ts",
        "permission_check_pipe.ts",
        "schedule_time_form.ts",
        "shared_module.ts",
        "status_button.ts",
        "table_rows_select.ts",
        "test_run_config_form.ts",
        "time_input_filter.ts",
        "tradefed_config_object_form.ts",
        "tree_table.ts",
        "utc_pipe.ts",
        "util.ts",
        "values_pipe.ts",
        "view_columns_button.ts",
    ],
    assets = [
        ":styles",
        "breadcrumb.ng.html",
        "form_error_info.ng.html",
        "list_form.ng.html",
        "local_file_store.ng.html",
        "multi_select.ng.html",
        "name_value_pair_list_form.ng.html",
        "name_multi_value_pair_list_form.ng.html",
        "overflow_list.ng.html",
        "host_device_search.ng.html",
        "schedule_time_form.ng.html",
        "status_button.ng.html",
        "test_run_config_form.ng.html",
        "time_input_filter.ng.html",
        "tradefed_config_object_form.ng.html",
        "tree_table.ng.html",
        "view_columns_button.ng.html",
    ],
    strict_checks = False,
    strict_templates = False,
    visibility = ["//multitest_transport"],
    deps = [
        third_party_js("angular_components:cdk_a11y"),
        third_party_js("angular_components:cdk_collections"),
        third_party_js("angular_components:cdk_drag_drop"),
        third_party_js("angular_components:cdk_tree"),
        third_party_js("angular2:common"),
        third_party_js("angular2:common_http"),
        third_party_js("angular2:core"),
        third_party_js("angular2:flex-layout"),
        third_party_js("angular2:forms"),
        third_party_js("angular_components:material_legacy_autocomplete"),
        third_party_js("angular_components:material_legacy_button"),
        third_party_js("angular_components:material_legacy_card"),
        third_party_js("angular_components:material_legacy_checkbox"),
        third_party_js("angular_components:material_legacy_chips"),
        third_party_js("angular_components:material_legacy_dialog"),
        third_party_js("angular_components:material_expansion"),
        third_party_js("angular_components:material_divider"),
        third_party_js("angular_components:material_legacy_form_field"),
        third_party_js("angular_components:material_grid_list"),
        third_party_js("angular_components:material_icon"),
        third_party_js("angular_components:material_legacy_input"),
        third_party_js("angular_components:material_legacy_list"),
        third_party_js("angular_components:material_mdc_checkbox"),
        third_party_js("angular_components:material_mdc_progress_bar"),
        third_party_js("angular_components:material_mdc_progress_spinner"),
        third_party_js("angular_components:material_mdc_radio"),
        third_party_js("angular_components:material_mdc_snack_bar"),
        third_party_js("angular_components:material_mdc_table"),
        third_party_js("angular_components:material_mdc_tooltip"),
        third_party_js("angular_components:material_legacy_menu"),
        third_party_js("angular_components:material_legacy_paginator"),
        third_party_js("angular_components:material_legacy_progress_bar"),
        third_party_js("angular_components:material_legacy_progress_spinner"),
        third_party_js("angular_components:material_legacy_radio"),
        third_party_js("angular_components:material_legacy_select"),
        third_party_js("angular_components:material_sidenav"),
        third_party_js("angular_components:material_sort"),
        third_party_js("angular_components:material_stepper"),
        third_party_js("angular_components:material_legacy_table"),
        third_party_js("angular_components:material_legacy_tabs"),
        third_party_js("angular_components:material_toolbar"),
        third_party_js("angular_components:material_tree"),
        third_party_js("angular2:platform_browser"),
        third_party_js("angular2:router"),
        third_party_js("moment:typings"),
        third_party_js("rxjs"),
        "//multitest_transport/ui2/app/services",
    ],
)

ng_module(
    name = "tests",
    testonly = True,
    srcs = [
        "breadcrumb_test.ts",
        "can_deactivate_test.ts",
        "file_size_pipe_test.ts",
        "filterbar_util_test.ts",
        "forbidden_values_validator_test.ts",
        "form_error_info_test.ts",
        "from_now_pipe_test.ts",
        "host_device_search_test.ts",
        "infinite_scroll_test.ts",
        "linkify_pipe_test.ts",
        "list_form_test.ts",
        "local_file_store_test.ts",
        "map_list_field_pipe_test.ts",
        "multi_select_test.ts",
        "name_multi_value_pair_list_form_test.ts",
        "name_value_pair_list_form_test.ts",
        "overflow_list_test.ts",
        "paginator_test.ts",
        "permission_check_pipe_test.ts",
        "schedule_time_form_test.ts",
        "status_button_test.ts",
        "table_rows_select_test.ts",
        "test_run_config_form_test.ts",
        "time_input_filter_test.ts",
        "tradefed_config_object_form_test.ts",
        "tree_table_test.ts",
        "utc_pipe_test.ts",
        "util_test.ts",
        "values_pipe_test.ts",
        "view_columns_button_test.ts",
    ],
    visibility = ["//multitest_transport"],
    deps = [
        ":shared",
        third_party_js("angular_components:cdk_a11y"),
        third_party_js("angular_components:cdk_collections"),
        third_party_js("angular2:common"),
        third_party_js("angular2:core"),
        third_party_js("angular2:core_testing"),
        third_party_js("angular_components:material_legacy_dialog"),
        third_party_js("angular_components:material_mdc_snack_bar"),
        third_party_js("angular2:platform_browser"),
        third_party_js("angular2:platform_browser_animations"),
        third_party_js("angular2:router"),
        third_party_js("angular2:router_testing"),
        third_party_js("moment:typings"),
        third_party_js("rxjs"),
        third_party_js("typings/jasmine"),
        "//multitest_transport/ui2/app/services",
        "//multitest_transport/ui2/app/testing:jasmine_util",
        "//multitest_transport/ui2/app/testing:test_util",
    ],
)
